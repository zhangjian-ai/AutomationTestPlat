(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bb8b226"],{b823:function(e,o,r){},e4dd:function(e,o,r){"use strict";r.r(o);var t=function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("div",{staticClass:"sub-box"},[r("el-form",{ref:"logonForm",attrs:{model:e.logonForm,rules:e.rules,size:"mini","label-width":"6em"}},[r("el-form-item",{attrs:{prop:"username",label:"账号"}},[r("el-input",{attrs:{disabled:e.ding},model:{value:e.logonForm.username,callback:function(o){e.$set(e.logonForm,"username",o)},expression:"logonForm.username"}})],1),r("el-form-item",{attrs:{prop:"nickname",label:"昵称"}},[r("el-input",{model:{value:e.logonForm.nickname,callback:function(o){e.$set(e.logonForm,"nickname",o)},expression:"logonForm.nickname"}})],1),r("el-form-item",{attrs:{prop:"email",label:"邮箱"}},[r("el-input",{model:{value:e.logonForm.email,callback:function(o){e.$set(e.logonForm,"email",o)},expression:"logonForm.email"}})],1),r("el-form-item",{attrs:{prop:"password",label:"密码"}},[r("el-input",{attrs:{type:"password"},model:{value:e.logonForm.password,callback:function(o){e.$set(e.logonForm,"password",o)},expression:"logonForm.password"}})],1),r("el-form-item",{attrs:{prop:"password2",label:"确认密码"}},[r("el-input",{attrs:{type:"password"},model:{value:e.logonForm.password2,callback:function(o){e.$set(e.logonForm,"password2",o)},expression:"logonForm.password2"}})],1),r("el-form-item",{attrs:{prop:"mobile",label:"手机"}},[r("el-input",{model:{value:e.logonForm.mobile,callback:function(o){e.$set(e.logonForm,"mobile",o)},expression:"logonForm.mobile"}})],1),r("el-form-item",{attrs:{prop:"smsCode",label:"验证码"}},[r("el-input",{staticStyle:{width:"40%"},attrs:{palceholder:"验证码"},model:{value:e.logonForm.smsCode,callback:function(o){e.$set(e.logonForm,"smsCode",o)},expression:"logonForm.smsCode"}}),r("el-button",{staticStyle:{width:"35%","margin-left":"5%"},attrs:{type:"primary",disabled:e.flag},on:{click:function(o){return e.sendSmsCode()}}},[e._v(e._s(e.tip))])],1)],1),r("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.submit()}}},[e._v("立 即 注 册")])],1)},s=[],n=(r("ac1f"),r("5319"),r("365c")),a={props:["ding","form"],data:function(){var e=this,o=function(e,o,r){Object(n["c"])(o).then((function(e){e.data.count>0&&r(new Error("用户名已存在")),r()}))},r=function(e,o,r){if(o){var t=/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;t.test(o)||r(new Error("邮箱格式错误"))}r()},t=function(o,r,t){r!=e.logonForm.password&&t(new Error("请确认两次密码一致")),t()},s=function(e,o,r){Object(n["c"])(o).then((function(e){e.data.count>0&&r(new Error("手机号已被注册")),r()}))};return{logonForm:{},rules:{username:[{required:!0,pattern:/^[\.\w]{6,18}$/,message:"账号由6-18位数字 字母 . 下划线 组成",trigger:"blur"},{validator:o,trigger:"submit"}],nickname:[{required:!0,pattern:/^[\u2E80-\u9FFF]{2,8}$/,message:"昵称由2-8位中文字符组成",trigger:"blur"}],email:[{validator:r,trigger:"blur"}],password:[{required:!0,pattern:/^\S{8,20}$/,message:"密码不合法",trigger:"blur"}],password2:[{required:!0,message:"确认密码必填",trigger:"blur"},{validator:t,trigger:"blur"}],mobile:[{required:!0,pattern:/^1[3-9]{1}\d{9}$/,message:"手机号码错误",trigger:"blur"},{validator:s,trigger:"submit"}],smsCode:[{required:!0,pattern:/^\d{6}$/,message:"验证码错误",trigger:"blur"}]},tip:"发送验证码",flag:!1,subForm:this.form}},methods:{submit:function(){var e=this;this.$refs.logonForm.validate((function(o){if(o){var r=JSON.parse(JSON.stringify(e.logonForm));r.password=Object(n["y"])(r.password),r.password2=Object(n["y"])(r.password2),Object(n["t"])(r).then((function(o){e.$store.commit("setStatus",o.data),e.$router.replace("/")}))}}))},sendSmsCode:function(){var e=this,o=/^1[3-9]{1}\d{9}$/;o.test(this.logonForm.mobile)?Object(n["A"])(this.logonForm.mobile).then((function(){e.flag=!0;var o=60,r=setInterval((function(){1==o?(clearInterval(r),e.tip="发送验证码",e.flag=!1):(o-=1,e.tip=o+" s")}),1e3,60)})):this.$message({type:"error",message:"手机号非法"})},checkProps:function(){this.subForm&&(this.logonForm=this.subForm)}},mounted:function(){this.checkProps()}},l=a,i=(r("ff15"),r("2877")),m=Object(i["a"])(l,t,s,!1,null,"c7ea09ca",null);o["default"]=m.exports},ff15:function(e,o,r){"use strict";r("b823")}}]);
//# sourceMappingURL=chunk-2bb8b226.0017e101.js.map