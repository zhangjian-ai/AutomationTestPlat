{"version":3,"sources":["webpack:///./src/components/login/loginByDingtalk.vue?82fb","webpack:///src/components/login/loginByDingtalk.vue","webpack:///./src/components/login/loginByDingtalk.vue?4607","webpack:///./src/components/login/loginByDingtalk.vue"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","attrs","methods","login","DDLogin","id","goto","encodeURIComponent","res","data","url","style","width","height","handleMessage","origin","event","loginTmpCode","location","href","window","addEventListener","attachEvent","mounted","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAsBH,EAAII,MAAMC,GAAO,OAAOL,EAAIM,GAAG,IACnGC,EAAkB,CAAC,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBE,EAAGL,EAAII,MAAMC,IAAIH,EAAG,OAAOG,EAAG,MAAM,CAACG,YAAY,eAAe,CAACH,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,e,YCOtK,GACEC,QAAS,CAEPC,MAFJ,WAGM,OAAN,OAAM,GAAN,kBAEkBC,QAAQ,CAChBC,GAAI,QACJC,KAAMC,mBAAmBC,EAAIC,KAAKC,KAClCC,MAAO,wCACPC,MAAO,MACPC,OAAQ,QALV,IASIC,EAAgB,SAA5B,GACU,IAAIC,EAASC,EAAMD,OACnB,GAAc,8BAAVA,EAAwC,CAE1C,IAAIE,EAAeD,EAAMP,KAEzB,OAAZ,OAAY,CAAZ,qBACcS,SAASC,KAAOX,EAAIC,KAAKC,SAMO,oBAA3BU,OAAOC,iBAChBD,OAAOC,iBAAiB,UAAWP,GAAe,GAC5D,wCACUM,OAAOE,YAAY,YAAaR,QAKxCS,QApCF,WAqCI9B,KAAKU,UC7C+V,I,YCOpWqB,EAAY,eACd,EACAjC,EACAQ,GACA,EACA,KACA,WACA,MAIa,aAAAyB,E","file":"js/chunk-2d0a3a8a.819ff690.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input_place\"},[_c('div',{attrs:{\"id\":\"login\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"input_place\">\n    <div id=\"login\"></div>\n  </div>\n</template>\n<script>\n/* eslint-disable */\nimport { login_by_ding } from \"@/api\";\nexport default {\n  methods: {\n    // 钉钉登陆\n    login() {\n      login_by_ding().then(res => {\n        // 展示二维码\n        var obj = DDLogin({\n          id: \"login\", //这里需要你在自己的页面定义一个HTML标签并设置id，例如<div id=\"login_container\"></div>或<span id=\"login_container\"></span>\n          goto: encodeURIComponent(res.data.url), //请参考注释里的方式\n          style: \"border:none;background-color:#FFFFFF;\",\n          width: \"250\",\n          height: \"300\"\n        });\n\n        // 定义监听扫码事件\n        var handleMessage = function(event) {\n          var origin = event.origin;\n          if (origin == \"https://login.dingtalk.com\") {\n            //判断是否来自ddLogin扫码事件。\n            var loginTmpCode = event.data;\n            //获取到loginTmpCode后就可以在这里构造跳转链接\n            login_by_ding(loginTmpCode).then(res => {\n              location.href = res.data.url;\n            });\n          }\n        };\n\n        // 在当前窗口增加监听事件\n        if (typeof window.addEventListener != \"undefined\") {\n          window.addEventListener(\"message\", handleMessage, false);\n        } else if (typeof window.attachEvent != \"undefined\") {\n          window.attachEvent(\"onmessage\", handleMessage);\n        }\n      });\n    }\n  },\n  mounted() {\n    this.login();\n  }\n};\n</script>\n<style scoped>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginByDingtalk.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginByDingtalk.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loginByDingtalk.vue?vue&type=template&id=d0b5226a&scoped=true&\"\nimport script from \"./loginByDingtalk.vue?vue&type=script&lang=js&\"\nexport * from \"./loginByDingtalk.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0b5226a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}