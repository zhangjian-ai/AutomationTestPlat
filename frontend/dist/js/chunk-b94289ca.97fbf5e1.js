(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b94289ca"],{"0366":function(e,t,r){var o=r("1c0b");e.exports=function(e,t,r){if(o(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,o){return e.call(t,r,o)};case 3:return function(r,o,n){return e.call(t,r,o,n)}}return function(){return e.apply(t,arguments)}}},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1dde":function(e,t,r){var o=r("d039"),n=r("b622"),i=r("2d00"),a=n("species");e.exports=function(e){return i>=51||!o((function(){var t=[],r=t.constructor={};return r[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4de4":function(e,t,r){"use strict";var o=r("23e7"),n=r("b727").filter,i=r("1dde"),a=i("filter");o({target:"Array",proto:!0,forced:!a},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,r){var o=r("861d"),n=r("e8b5"),i=r("b622"),a=i("species");e.exports=function(e,t){var r;return n(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?o(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},8399:function(e,t,r){},8418:function(e,t,r){"use strict";var o=r("c04e"),n=r("9bf2"),i=r("5c6c");e.exports=function(e,t,r){var a=o(t);a in e?n.f(e,a,i(0,r)):e[a]=r}},9894:function(e,t,r){"use strict";r("8399")},a434:function(e,t,r){"use strict";var o=r("23e7"),n=r("23cb"),i=r("a691"),a=r("50c4"),s=r("7b0b"),l=r("65f0"),c=r("8418"),u=r("1dde"),f=u("splice"),m=Math.max,d=Math.min,p=9007199254740991,b="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var r,o,u,f,v,h,x=s(this),y=a(x.length),g=n(e,y),j=arguments.length;if(0===j?r=o=0:1===j?(r=0,o=y-g):(r=j-2,o=d(m(i(t),0),y-g)),y+r-o>p)throw TypeError(b);for(u=l(x,o),f=0;f<o;f++)v=g+f,v in x&&c(u,f,x[v]);if(u.length=o,r<o){for(f=g;f<y-o;f++)v=f+o,h=f+r,v in x?x[h]=x[v]:delete x[h];for(f=y;f>y-o+r;f--)delete x[f-1]}else if(r>o)for(f=y-o;f>g;f--)v=f+o-1,h=f+r-1,v in x?x[h]=x[v]:delete x[h];for(f=0;f<r;f++)x[f+g]=arguments[f+2];return x.length=y-o+r,u}})},b0c0:function(e,t,r){var o=r("83ab"),n=r("9bf2").f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/,l="name";o&&!(l in i)&&n(i,l,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},b727:function(e,t,r){var o=r("0366"),n=r("44ad"),i=r("7b0b"),a=r("50c4"),s=r("65f0"),l=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,u=4==e,f=6==e,m=7==e,d=5==e||f;return function(p,b,v,h){for(var x,y,g=i(p),j=n(g),_=o(b,v,3),k=a(j.length),F=0,$=h||s,w=t?$(p,k):r||m?$(p,0):void 0;k>F;F++)if((d||F in j)&&(x=j[F],y=_(x,F,g),e))if(t)w[F]=y;else if(y)switch(e){case 3:return!0;case 5:return x;case 6:return F;case 2:l.call(w,x)}else switch(e){case 4:return!1;case 7:l.call(w,x)}return f?-1:c||u?u:w}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},c500:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("el-col",{attrs:{span:10}},[r("div",{staticClass:"text_zone"},[r("div",{staticClass:"title"},[r("p",[e._v("创建测试任务")]),r("el-divider")],1),r("div",{staticClass:"form"},[r("el-form",{ref:"jobForm",attrs:{model:e.jobForm,"label-width":"25%",rules:e.rules,size:"mini"}},[r("el-form-item",{attrs:{label:"任务名称:",prop:"task_name"}},[r("el-input",{model:{value:e.jobForm.task_name,callback:function(t){e.$set(e.jobForm,"task_name",t)},expression:"jobForm.task_name"}})],1),r("el-form-item",{attrs:{label:"任务详情:"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:e.jobForm.task_detail,callback:function(t){e.$set(e.jobForm,"task_detail",t)},expression:"jobForm.task_detail"}})],1),r("el-form-item",{attrs:{label:"优先级:",prop:"level"}},[r("el-select",{model:{value:e.jobForm.level,callback:function(t){e.$set(e.jobForm,"level",t)},expression:"jobForm.level"}},e._l(e.$store.state.levels,(function(e){return r("el-option",{key:e[0],attrs:{label:e[1],value:e[0]}})})),1)],1),r("el-form-item",{attrs:{label:"任务类型:",prop:"type"}},[r("el-select",{model:{value:e.jobForm.type,callback:function(t){e.$set(e.jobForm,"type",t)},expression:"jobForm.type"}},e._l(e.$store.state.categories,(function(e){return r("el-option",{key:e[0],attrs:{label:e[1],value:e[0]}})})),1)],1),r("el-form-item",{attrs:{label:"测试:"}},[r("el-select",{attrs:{filterable:"",clearable:"",multiple:""},model:{value:e.jobForm.executor,callback:function(t){e.$set(e.jobForm,"executor",t)},expression:"jobForm.executor"}},e._l(e.$store.state.users,(function(e){return r("el-option",{key:e.id,attrs:{label:e.nickname,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"产品:"}},[r("el-input",{model:{value:e.jobForm.product,callback:function(t){e.$set(e.jobForm,"product",t)},expression:"jobForm.product"}})],1),r("el-form-item",{attrs:{label:"前端开发:"}},[r("el-input",{model:{value:e.jobForm.frontend,callback:function(t){e.$set(e.jobForm,"frontend",t)},expression:"jobForm.frontend"}})],1),r("el-form-item",{attrs:{label:"后端开发:"}},[r("el-input",{model:{value:e.jobForm.backend,callback:function(t){e.$set(e.jobForm,"backend",t)},expression:"jobForm.backend"}})],1),r("el-form-item",{attrs:{label:"关联需求:"}},[r("el-input",{model:{value:e.jobForm.prd_no,callback:function(t){e.$set(e.jobForm,"prd_no",t)},expression:"jobForm.prd_no"}})],1),r("el-form-item",{attrs:{label:"计划完成时间:",prop:"expect_end_time"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm:ss",width:"50%"},model:{value:e.jobForm.expect_end_time,callback:function(t){e.$set(e.jobForm,"expect_end_time",t)},expression:"jobForm.expect_end_time"}})],1)],1),r("div",{staticClass:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.jobForm={}}}},[e._v("重 置")]),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.create_submit()}}},[e._v("保 存")])],1)],1)])]),r("el-col",{attrs:{span:2}},[r("pre",{staticStyle:{margin:"0",padding:"0"}},[e._v(" ")])]),r("el-col",{attrs:{span:7}},[r("div",{staticClass:"caselist"},[r("el-input",{attrs:{placeholder:"关键字过滤",size:"mini"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),r("el-tree",{ref:"tree",attrs:{data:e.$store.state.case_tree,"show-checkbox":"","node-key":"id","render-after-expand":!1,props:e.defaultProps,"filter-node-method":e.filterNode},on:{"check-change":e.handleChange}}),r("div",[r("p",[r("span",[e._v(" ☑️ 您已勾选  "),r("span",{staticStyle:{color:"red"}},[e._v(e._s(e.num))]),e._v(" 条用例 ")]),r("el-button",{staticStyle:{"margin-left":"5em"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.clearCaseList()}}},[e._v("清除选中")])],1)])],1)])],1)},n=[],i=(r("b0c0"),r("a434"),r("4de4"),r("365c")),a={data:function(){return{filterText:"",defaultProps:{children:"subs",label:"name",disabled:"disabled"},jobForm:{},case:[],rules:{task_name:[{required:!0,message:"该项为必填",trigger:"blur"}],level:[{required:!0,message:"该项为必填",trigger:"blur"}],type:[{required:!0,message:"该项为必填",trigger:"blur"}],expect_end_time:[{required:!0,message:"该项为必填",trigger:"blur"}]}}},methods:{filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},handleChange:function(e,t){if("case"==e.cate)if(t)-1==this.case.indexOf(e.id)&&this.case.push(e.id);else for(var r=0;r<this.case.length;r++)this.case[r]==e.id&&this.case.splice(r,1)},clearCaseList:function(){this.$refs.tree.setCheckedNodes(this.case)},create_submit:function(){var e=this;this.$refs.jobForm.validate((function(t){if(t){if(0==e.case.length)return void e.$message({type:"error",message:"请勾选测试用例"});e.jobForm.case=e.case,Object(i["e"])(e.jobForm).then((function(t){e.$message({type:"success",message:t.data.msg}),e.$store.dispatch("jobInductions")}))}}))}},watch:{filterText:function(e){var t=null,r=this.$refs.tree.filter;(function(){null!==t&&clearTimeout(t),t=setTimeout((function(){r(e)}),500)})()}},computed:{num:function(){return this.case?this.case.length:0}},mounted:function(){this.$route.params.ids&&this.$refs.tree.setCheckedKeys(this.$route.params.ids)}},s=a,l=(r("9894"),r("2877")),c=Object(l["a"])(s,o,n,!1,null,"6df093d6",null);t["default"]=c.exports},e8b5:function(e,t,r){var o=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}}}]);
//# sourceMappingURL=chunk-b94289ca.97fbf5e1.js.map